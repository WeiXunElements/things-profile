<link rel="import" href="things-profile-dialog.html">
<link rel="import" href="../paper-icon-button/paper-icon-button.html">

<dom-module id="things-profile">
	<template>
		<style>
			:host {
				display: block;
				background-color:var(--xmes-secondary-background-color);
				color:rgba(255,255,255,.8);
			}
			paper-icon-button{
				@apply(--xmes-small-icon);
				margin-right:3px;
			}
		</style>
		<paper-icon-button id="account" icon="icons:account-circle" hidden="[[buttonEnable]]" on-tap="open">
        </paper-icon-button>{{globals.user.name}}
          
        <things-profile-dialog id="dialog" hidden="[[buttonEnable]]"></things-profile-dialog>

	</template>
	<script>
		Polymer({
			is: 'things-profile',
			properties:{
				buttonEnable:{
					type:Boolean,
					computed:'_isSignedIn(globals.user.name)'
				}
			},
	        behaviors: [ 
	          Things.GlobalBehavior
	        ],
	        /**
	         * profile Dialog를 오픈한다.
	         */
	        open: function() {
	          this.$.dialog.open()
	        },
	        _isSignedIn: function(name){
	        	return name?false:true;
	        }
		});
	</script>
</dom-module>